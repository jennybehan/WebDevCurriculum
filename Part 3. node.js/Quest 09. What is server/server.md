## Checklist
* 인터넷은 어떻게 동작하나요? OSI 7 Layer에 입각하여 설명해 보세요.

1계층(Physical) - 물리 계층에서 수행되는 중요한 일들은 물리적인 정보 전달 매개체에 대한 연결을 성립 및 종료 시킵니다. 여러 사용자들 간의 통신 자원을 효율적으로 분배하는 데에 관여하여 경쟁 상태 해소, 흐름 제어 등을 합니다. 데이터 링크 개체 간 비트 전송을 위한 물리적 연결을 설정, 유지, 해제하기 위한 수단을 제공하며 해당 계층에서 데이터를 교환하는 방식은 회선 교환, 메시지 교환, 패킷 교환 방식 등이 있습니다.

네트워크 카드들이 사용하는 케이블 종류, 데이터 송수신 속도, 신호의 전기 전압 등의 물리적인 표준을 정의합니다. 이 계층을 담당하는 장비는 케이블, 허브, 리피터 등입니다. 
<!-- 또한 인터넷이 연결된 고유한 주소를 가진 각 컴퓨터가 존재합니다.  -->

2계층(Data Link) - 물리적인 전송 링크를 통해 자료를 안전하게 전송하는 계층입니다. 네트워크 계층의 IP 주소가 논리 주소라면 데이터 링크 계층은 물리 주소라 할 수 있는 MAC 주소를 사용하여 인접한 시스템까지 자료를 안전하게 전송하여 최종 목적지까지 전송되도록 해줍니다. 데이터 링크 계층에서는 비트 단위의 논리 자료로 단위를 나누고 이 단위를 프레임이라고 부릅니다. 이 계층을 담당하는 장비는 스위치, 브릿지 등이고 프로토콜에는 ARP, RARP, ICMP 등이 있습니다.

* MAC(Media Access Control): 네트워크 카드의 물리적인 주소로 데이터가 목적지 컴퓨터로 전달되기 위해 필요합니다.
* 이더넷, 토큰링?

3계층(Network) - 노드를 연결해 네트워크를 구성하기 위한 프로토콜이 정의되어 있는 계층입니다. 스위칭, 라우팅 등 데이터 경로설정을 맡아합니다. 네트워크에서 노드를 식별하기 위해 사용하는 대표적인 프로토콜이 IP입니다. 인터넷 주소 형식은 `nnn.nnn.nnn.nnn`으로 nnn은 0-255 사이의 숫자입니다. 이 주소를 IP(Internet Protocol) 주소라고 합니다. 인터넷에 연결되어 있는 컴퓨터는 모두 고유한 IP 주소를 가집니다.

* IP 주소는 계층 구조로 되어 있어서 MAC 주소와 달리 대규모 네트워크로 확장할 수 있고 조직적인 관리 또한 가능하다.

4계층(Transport) - 사용자가 보낸 데이터가 목적지에 정확하게 도착하도록 관리합니다.

* `프로세스` 간 데이터 전송?

5계층(Session) - 세션 계층은 양 끝단의 응용프로세스가 통신을 관리하기 위한 인증 및 방법을 제공합니다. 이 계층은 TCP/IP 세션을 만들고 없애는 책임을 지고 통신 중에 연결이 끊어지지 않도록 연결 상태를 유지시켜 줍니다. 특정 사이트에 접속할 때 해당 사이트에 최초의 연결을 시도하면서 해당 사이트들이 사용자의 접속을 제한하지는 않는 지 등을 파악하고 필요한 경우에 접속을 위한 협의 과정을 거쳐야 한다.

6계층(Presentation) - 네트워크로 보내지는 데이터 형식을 규정합니다. 사용자 영역에서 처리해야 할 데이터의 형식상의 차이를 대신 처리해 데이터를 보내는 쪽과 받는 쪽이 정확한 데이터 형식을 사용할 수 있도록 해주는 역할도 합니다. MIME 인코딩이나 암호화 등에 관한 동작이 이루어진다. ASCII로 바꿔주는 역할을 합니다.

7계층(Application) - 사용자 인터페이스 역할을 담당하며 네트워크 간의 연결, 데이터 생성을 맡아 합니다. 사용자 입장에서 네트워크를 이용할 수 있게 해주는 역할을 담당합니다. 일반적인 응용 소프트웨어들이 사용하는 계층으로 HTTP, FTP, TELNET, SSH 등의 표준 애필리케이션 프로토콜과 함께 직접 개발한 프로토콜들이 위치하는 계층입니다.

이렇게 고유한 주소를 가지고 인터넷에 연결된 뒤 다른 컴퓨터와 대화하기 위한 과정이 필요합니다. 상호 메시지는 알파벳 텍스트에서 전자 신호로 변환되고 인터넷을 통해 전송 된 다음 다시 알파벳 텍스트로 변환되어야합니다. 프로토콜 스택Protocol Stack을 통해 이러한 작업이 진행됩니다. 인터넷 통신을 위해 모든 컴퓨터가 이를 운영체제에 내장하고 있으며, 인터넷을 사용하기 위한 프로토콜 스택은 TCP/IP로 두개의 주요 통신 프로토콜입니다.

* 우리가 브라우저의 주소 창에 www.knowre.com 을 쳤을 때, 어떤 과정을 통해 노리의 서버 주소를 알게 되나요?

1. 브라우저가 'www.knowre.com'의 IP 주소를 찾기 위해 DNS 쿼리(GET)를 보냅니다. 

2. 브라우저의 C++ 코드가 HTTP 요청 메시지 포맷을 만들기 위해 바이트의 배열을 만듭니다.

3. 브라우저가 OS에게 www.knowre.com을 찾아달라는 요청을 보냅니다.

4. OS가 www.knowre.com의 IP 주소를 찾아달라는 DNS 쿼리를 보냅니다.
    * 도메인 이름 확인을 요청하는 컴퓨터는 요청에서 이름을 확인할 수 있는 DNS 서버가 발견될 때까지 계층 구조의 위로 리다이렉팅 합니다.
5. DNS 서버가 입력한 도메인 이름의 IP 주소를 얻으면 응답으로 보냅니다. 
    * ??
6. OS가 해당 IP 주소에 있는 TCP 연결을 오픈합니다.

--

7. TCP 연결이 설정되고 나면 OS는 TCP 연결을 통해 HTTP 메시지를 해당 서버 주소로 보냅니다.
8. 웹 브라우저는 웹 서버에 연결하고 원하는 웹 페이지에 대한 프로토콜 스택을 통해 HTTP 요청을 보냅니다. 
9. 서버 소프트웨어는 HTTP 요청을 구문분석한 다음 응답으로 보낼 메시지를 결정합니다. 이 메시지를 HTTP로 형식화 한 다음 OS가 TCP를 통해 이 응답메시지를 보낸 사람에게 다시 보내도록 요청합니다.

* DNS: 도메인 이름 시스템 - 도메인 이름을 컴퓨터의 IP로 번역하는 역할로 계층 구조로 구성되어 있음.
* IP 주소: 모든 컴퓨터가 인터넷에 연결될 수 있도록 하기 위해 유니크한 숫자로 되어있는 식별자
* TCP(Transmission Control Protocol): 유선을 통해 정보를 보내기 위한 데이터 형식을 정의합니다.(HTTP, FTP 등에 사용됨) 응용 프로그램 프로토콜을 대상 컴퓨터의 올바른 응용 프로그램으로 라우팅합니다. 이를 위해 포트번호가 사용됩니다. 포트는 각 컴퓨터에서 별도의 체널로 생각할 수 있습니다(프로세스?).

----

## 스터디 노트

1. OSI(개방시스템상호연결) 모델

* 네트워크 통신을 체계적으로 다루는 ISO 표준(1984)
* 개방시스템이란 기반구조와 관계없이 시스템간의 통신을 제공하는 프로토콜의 집합
* OSI 모델이 제공됨으로써, 다양한 프로세스들이 네트워크상의 다른 시스템 응용프로그램과 정보처리 작업을 해당 시스템의 사양이나 환경에 영향을 받지 않고 수행하게 된다. 즉 프로세스 상호 간 데이터 통신, 데이터 저장, 자원 관릴, 아전 보호 및 응용 프로그램의 지원 등 협업을 용이하게 하기 위해 규정된 것으로 계층구조를 가짐으로써 데이터 자체의 흐름을 각 구간별로 알 수 있고 서로 다른 벤더사와의 호환에도 용이하다.
* OSI 모델보다 TCP/IP 모델이 먼저 개발되었다. 둘 간의 계층은 정확하게 서로 일치하지 않는다. TCP/IP 프로토콜에는 세션과 표현 계층이 없다.

2. OSI layer 단계

* Layer 1: 물리 계층 - 네트워크의 물리적 구조. 기본 네트워크 하드웨어 전송 기술. 데이터를 물리 매체상으로 전송하는 역할을 담당하는 계층으로, 전송을 위해 필요한 물리적 링크의 설정, 유지, 해제를 담당한다. 네트워크 어댑터, 리피터, 네트워크 허브, 모뎀 등의 하드웨어 장비가 있다.

* Layer 2: 데이터링크 계층 - 물리적 주소 관리. 전송단위는 Frame, 물리계층의 전송설비를 신뢰할 수 있는 링크로 변환하여 상위 계층인 네트워크 계층에 오류 없는 물리계층으로 보여지게 한다. 네트워크 계층에서 정보를 받아 주소와 제어정보를 헤더와 테일에 추가한다.

* Layer 3: 네트워크 계층 - 논리적 주소 관리, 경로 설정. 전송단위는 Packet, 주소는 IP를 사용. 상위 계층 데이터를 작은 크기의 패킷으로 분할하여 전송하는 역할을 수행한다.

* Layer 4: 전송(transport) 계층 - 패킷 생성, 패킷 오류 관리. 전송단위는 Segment, 주소는 Port 사용, 전송 계층을 기점으로 하위 계층으로 이루어진 사용자 서비스로 구별될 수 있다. 발신지 대 목적지(end to end) 간 제어와 에러를 관리함.

* Layer 5: 세션 계층 - 연결 유지. 전송단위는 message, 통신 시스템 간의 상호 대화를 설정, 유지, 동기화 한다. 실제 이용자의 응용프로그램 사이에서 세션이라 불리는 연결을 확립, 유지, 동기화 한다. 표현계층으로부터 받은 데이터를 효율적인 세션 관리를 위해 짧은 데이터 단윌로 나눈 후 전송 계층으로 보낸다. 

* Layer 6: 표현 계층 - 데이터의 표현(포맷팅, 암호화). 데이터의 암호화, 압축, 문자 코드 담당. OS간 데이터 형식 차이를 다루는 부담을 덜어줌. MIME 인코딩, 암호화... 통신에서 전달된 숫자가 바이트로 표현, 비트 나열의 전기 신호로 전달된다.

* Layer 7: 응용 계층 - 사용자 인터페이스/응용 프로그램사용자가 네트워크에 접속하는 것을 가능하게 한다. 사용자 인터페이스 제공.

    * 4계층까지는 바이트 데이터를 전송하며 데이터의 의미를 따지지 않는다. 5계층 이상부터 데이터의 의미를 따지므로 각 OS마다 화면 표시와 문서 편집을 위해 나름의 문자 코드를 사용한다.

    * 엡 프로토콜인 HTTP을 통해 서버와 브라우저가 대화를 주고받으며 이 내용은 모두 문자로 되어있다. (따라서 문자 코드가 중요하다.) 5계층부터는 통신 내용에 해당하는 것으로 프로그래머가 만드는 내용이다.

* [참고자료](https://web.stanford.edu/class/msande91si/www-spr04/readings/week1/InternetWhitepaper.htm)